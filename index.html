<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>21-Day Discipline Challenge</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      background-color: #f9f9f9;
      color: #333;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }

    h1,
    h2 {
      text-align: center;
    }

    .day-section {
      margin-bottom: 20px;
      padding: 20px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .day-title {
      font-weight: bold;
      margin-bottom: 10px;
      font-size: 1.2em;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    ul li {
      margin: 10px 0;
    }

    .checkbox {
      margin-right: 10px;
    }
  </style>
</head>

<body>
  <h1>61-Day Discipline Challenge</h1>
  <p><strong>Reminder:</strong> Be kind to yourself. Progress is gradual. A day has 1,440 minutes—don’t discard it over
    small setbacks.</p>
  <div id="challenge-container"></div>

  <script>
    // Challenge data
    const challenge = [
      { days: [1, 2, 3, 4, 5, 6, 7], tasks: ["Do a guided NSDR meditation (10+ minutes).", "Avoid phone use in comfortable places (bed, couch, etc.).", "Minimize phone distractions during important tasks."] },
      { days: [8], tasks: ["NSDR meditation (10+ minutes).", "No phone in cozy spots.", "Stay focused (limit phone).", "Journal: Reflect on progress, feelings, and setbacks."] },
      { days: [9, 10], tasks: ["NSDR meditation (10+ minutes).", "No phone in cozy spots.", "Stay focused (limit phone).", "Tackle 1 postponed task for 5 minutes."] },
      { days: [11, 12, 13, 14, 15, 16], tasks: ["NSDR meditation (10+ minutes).", "No phone in cozy spots.", "Stay focused (limit phone).", "Tackle 1 postponed task for 5 minutes.", "Write 3 things you’re grateful for."] },
      { days: [17, 18, 19, 20, 21], tasks: ["NSDR meditation (20+ minutes).", "No phone in cozy spots.", "Stay focused (limit phone).", "Tackle 1 postponed task for 10 minutes.", "Write 3 things you’re grateful for."] },
      { days: [22, 23, 24, 25, 26, 27, 28, 29, 30], tasks: ["NSDR meditation (20+ minutes).", "No phone in cozy spots.", "Stay focused (limit phone).", "Tackle 1 postponed task for 20 minutes.", "Write 3 things you’re grateful for."] },
      { days: [31], tasks: ["NSDR meditation (20+ minutes).", "No phone in cozy spots.", "Stay focused (limit phone).", "Tackle 1 postponed task for 20 minutes.", "Write 3 things you’re grateful for.", "Journal: Reflect on your 30-day journey (wins & struggles)."] },
      { days: [32, 33, 34, 35, 36, 37, 38, 39, 40], tasks: ["NSDR meditation (20+ minutes).", "No phone in cozy spots.", "Stay focused (limit phone).", "Tackle 1 challenging task for 30 minutes.", "Write 3 things you’re grateful for."] },
      { days: [41, 42, 43, 44, 45, 46, 47, 48, 49, 50], tasks: ["NSDR meditation (20+ minutes).", "Morning walk: 10+ minutes outside right after waking up.", "No phone in cozy spots.", "Stay focused (limit phone).", "Tackle 1 challenging task for 40 minutes.", "Write 3 things you’re grateful for."] },
      { days: [51, 52, 53, 54, 55, 56, 57, 58, 59, 60], tasks: ["NSDR meditation (20+ minutes).", "Morning walk: 10+ minutes outside.", "No phone in cozy spots.", "Stay focused (limit phone).", "Tackle 1 challenging task for 50 minutes.", "Write 3 things you’re grateful for."] },
      { days: [61], tasks: ["NSDR meditation (20+ minutes).", "Morning walk: 10+ minutes outside.", "No phone in cozy spots.", "Stay focused (limit phone).", "Tackle 1 challenging task for 1 hour.", "Write 3 things you’re grateful for."] },
    ];

    // Container to hold the days
    const container = document.getElementById("challenge-container");

    // Load progress from localStorage
    const savedProgress = JSON.parse(localStorage.getItem("progress")) || {};

    // Save progress to localStorage
    const saveProgress = () => {
      localStorage.setItem("progress", JSON.stringify(savedProgress));
    };

    // Generate each day's tasks
    challenge.forEach(group => {
      group.days.forEach(day => {
        const daySection = document.createElement("div");
        daySection.classList.add("day-section");

        const dayTitle = document.createElement("div");
        dayTitle.classList.add("day-title");
        dayTitle.textContent = `Day ${day}`;
        daySection.appendChild(dayTitle);

        const taskList = document.createElement("ul");
        group.tasks.forEach((task, index) => {
          const taskItem = document.createElement("li");
          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.classList.add("checkbox");

          // Restore checkbox state from saved progress
          const taskKey = `day-${day}-task-${index}`;
          checkbox.checked = savedProgress[taskKey] || false;

          // Update progress on checkbox change
          checkbox.addEventListener("change", () => {
            savedProgress[taskKey] = checkbox.checked;
            saveProgress();
          });

          taskItem.appendChild(checkbox);
          taskItem.appendChild(document.createTextNode(task));
          taskList.appendChild(taskItem);
        });
        daySection.appendChild(taskList);

        container.appendChild(daySection);
      });
    });
  </script>
</body>

</html>